##############################################################################
#
#   manage/<service>/main.cf - EECS <service> configuration
#   Maintained: Ben Roose, ver 0.1
#
###############################################################################



# PROTIP: Use body file control to help make modular policy.
# "There can be only one" body common control per policy entry (promises.cf,update.cf)

# TESTING ONLY:INPUT STANDARD LIBRARY (Remove after testing)
body file control
{
      inputs => { "$(sys.libdir)/stdlib.cf" };
}

######################################################################
# Public entry point: bundle
######################################################################

# NOTES for future development of configuration:
# 1.


bundle agent main
# @description: 
{

  vars:
      "group" slist  => {"group1", "group2", "group3"};

      "grader_group" slist  => grep("grader", "group");

  classes:
      "grader_class" expression => strcmp("$(group)", "grader");
      
  reports:
	"Normal Group: $(group)";

        "Grader Group: $(grader_group)";

}

bundle agent main_old
# @description: 
{

  vars:
      "group" slist  => {"group1", "group2", "grader", "group3"};
#      "test" string  => "grader";

  classes:
      "grader_class" expression => strcmp("$(group)", "grader");
      
  reports:
	"Normal Group: $(group)";

    grader_class::
        "Grader Group: $(group)";

}

######################################################################
